---
/** Props:
 *  step: number (1..4)
 *  title: string
 *  description: string
 *  icon: string        // ex: "lucide:rocket"
 *  variant?: 'default' | 'highlight'
 */
import { Icon } from 'astro-icon/components';

interface Props {
  step: number;
  title: string;
  description: string;
  icon: string;
  variant?: 'default' | 'highlight';
}
const { step, title, description, icon, variant = 'default' } = Astro.props as Props;
const isHighlight = variant === 'highlight';
---

<li class="relative pl-10">
  <!-- pastille Ã©tape -->
  <span
    class:list={{
        'absolute left-0 top-1/2 -translate-y-1/2 inline-grid place-items-center leading-none select-none h-8 w-8 rounded-full text-sm font-display': true,      
        'bg-info text-white': !isHighlight,
        'bg-accent text-white': isHighlight,
    }}
    aria-hidden="true"
  >
    {step}
  </span>

  <!-- carte -->
  <article
    class:list={{
      'rounded-xl border p-5 transition shadow-2xs': true,
      'bg-white border-bg-alt': !isHighlight,
      'bg-primary text-white border-primary': isHighlight,
    }}
  >
    <div class="flex items-start gap-3">
      <Icon
        name={icon}
        class:list={{
          'w-8 h-8 self-center shrink-0 mr-2 hidden md:block': true,
          'text-text': !isHighlight,
          'text-white': isHighlight,
        }}
        aria-hidden="true"
      />
      <div>
        <h3
          class:list={{
            'font-semibold': true,
            'text-text': !isHighlight,
            'text-white uppercase': isHighlight,
          }}
        >
          {title}
        </h3>
        <p
          class:list={{
            'mt-1 text-sm': true,
            'text-gray-800': !isHighlight,
            'text-white/90': isHighlight,
          }}
        >
          {description}
        </p>
      </div>
    </div>
  </article>
</li>

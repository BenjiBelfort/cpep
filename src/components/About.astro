---
// src/components/sections/AboutCPEP.astro
import { Icon } from 'astro-icon/components';

type ValueItem = {
  icon: string;
  title: string;
  desc: string;
  badge?: boolean;  // pour mettre un macaron "priorit√©"
};

const values: ValueItem[] = [
    {
        icon: 'lucide:scale',
        title: 'Justesse & transparence',
        desc: 'Prix justes, promesses tenues, origine et partenaires annonc√©s clairement.',
        badge: true,
    },
    {
        icon: 'lucide:handshake',
        title: 'Relation',
        desc: "Peu de clients, beaucoup d‚Äôattention. Des relations longues, pas √† la cha√Æne.",
        badge: true, // üëà macaron certif
    },
    {
        icon: 'lucide:factory',
        title: 'Sourcing local & ma√Ætris√©',
        desc: 'Approvisionnements europ√©ens, fournisseurs connus, produits fiables & adapt√©s.',
        badge: true,
    },
    {
        icon: 'lucide:check-circle-2',
        title: 'Utilit√©',
        desc: 'Des solutions qui r√©pondent √† un besoin concret. Pas de gadgets.'
    },
    {
        icon: 'lucide:wand-2',
        title: 'Simplicit√©',
        desc: 'Process clairs, r√©ponses rapides, friction minimale. La clart√© au service de la confiance.'
    },
    {
        icon: 'lucide:heart-handshake',
        title: 'Impact',
        desc: '√Ä terme : opportunit√©s pour des jeunes + r√©seau de partenaires √©thiques.'
    },
];
---

<!-- Fond plein largeur en d√©grad√© -->
<section id="about" aria-labelledby="about-title" class="w-full bg-linear-to-t from-primary to-creative scroll-m-4">
  <div class="mx-auto max-w-6xl px-4 py-16">
    <div class="mx-auto max-w-3xl text-center">
      <h2 id="about-title" class="mt-3 text-2xl md:text-3xl font-medium text-text">
        Mission, vision & valeurs
      </h2>
      <p class="mt-4 text-text">
        Nous concevons des <strong>outils de communication durables et responsables</strong> ‚Äî print & web ‚Äî pour des entreprises qui veulent
        <strong>s‚Äôinscrire dans le temps</strong>. S√©rieux d‚Äôun bon brief, √©nergie d‚Äôun
        <span class="font-display"> CPEP<span class="inline-block text-accent rotate-[8deg] origin-bottom-left">!</span></span> :
        √ßa part en prod, propre.
      </p>
    </div>

    <!-- Mission / Vision -->
    <section class="mt-10 grid gap-6 grid-cols-1 md:grid-cols-2 items-stretch">
      <div class="h-full rounded-xl border border-bg-alt bg-white p-5">
        <h3 class="inline-flex items-center gap-2 text-lg font-medium text-text">
          <Icon name="lucide:target" class="h-5 w-5 text-primary" aria-hidden="true" /> Mission
        </h3>
        <p class="mt-3 text-gray-800">
          Accompagner nos clients dans leur <strong>communication digitale et physique</strong> avec des
          <strong>sites √©co-con√ßus</strong> et des <strong>supports utiles & durables</strong>. Des partenariats
          de confiance, majoritairement en France et en Europe, avec une <strong>exp√©rience fluide, r√©active et humaine</strong>.
        </p>
      </div>

      <div class="h-full rounded-xl border border-bg-alt bg-white p-5">
        <h3 class="inline-flex items-center gap-2 text-lg font-medium text-text">
          <Icon name="lucide:sparkles" class="h-5 w-5 text-primary" aria-hidden="true" /> Vision
        </h3>
        <p class="mt-3 text-gray-800">
          Faire de la communication un <strong>levier de transformation positive</strong>&nbsp: <strong>responsable, utile, √©l√©gante, durable</strong>.
          Devenir la r√©f√©rence d‚Äôune <strong>com‚Äô qui a du sens</strong> ‚Äî sans jetable ni bullshit ‚Äî o√π une bonne id√©e,
          bien ex√©cut√©e, <strong>dure</strong>.
        </p>
      </div>
    </section>

    <!-- Valeurs (mapp√©es) -->
    <section class="mt-10">
            <!-- Callout ultra-simple : macaron + r√©sum√© des 3 valeurs cl√©s -->
            <aside class="mx-auto w-fit mt-10 text-2xl">
                <div class="flex items-center gap-4">
                    <img
                        src="/logo/certified.png"
                        alt=""
                        width="40"
                        height="40"
                        loading="lazy"
                        decoding="async"
                        class="h-12 w-12 object-contain drop-shadow-md"
                    />
                    <div class="flex-1 mb-4">
                        <h3 class="font-semibold text-white font-serif">Nos valeurs cl√©s !</h3>
                        <p class="text-white font-serif">Seulement <strong>l‚Äôessentiel</strong>. √âchanges <strong>simples</strong>. Partenaires <strong>proches</strong>.</p>
                    </div>
                </div>
            </aside>

        <ul class="mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
            {values.map((v) => (
            <li class="relative rounded-xl border border-bg-alt bg-white p-5 hover:shadow-sm transition">
                {/* Badge certif en haut-droite (seulement si v.badge === true) */}
                {v.badge && (
                <span class="absolute -top-2 -right-2 z-10 pointer-events-none select-none" aria-hidden="true">
                    <img
                    src="/logo/certified.png"
                    alt=""
                    width="28"
                    height="28"
                    loading="lazy"
                    decoding="async"
                    class="h-7 w-7 object-contain drop-shadow-sm"
                    />
                </span>
                )}


                <div class="flex items-start gap-3">
                <Icon name={v.icon} class="h-10 w-10 text-primary" aria-hidden="true" />
                <div>
                    <p class="font-semibold text-primary">{v.title}</p>
                    <p class="mt-1 text-sm text-gray-800">{v.desc}</p>
                </div>
                </div>
            </li>
            ))}
        </ul>
    </section>


    <!-- JSON-LD AboutPage -->
    <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "AboutPage",
      "name": "√Ä propos de CPEP",
      "description": "CPEP con√ßoit des outils de communication durables et responsables ‚Äî web √©co-con√ßu et supports print utiles ‚Äî avec des partenariats europ√©ens et un service fluide, r√©actif et humain.",
      "about": {
        "@type": "Organization",
        "name": "CPEP",
        "slogan": "La plus juste expression de votre identit√©",
        "areaServed": "FR",
        "brand": "CPEP",
        "knowsAbout": [
          "Emballages personnalis√©s durables",
          "Sacs, bo√Ætes, √©tuis, calages, √©tiquettes",
          "√âco-conception web, SEO technique",
          "Sourcing europ√©en"
        ]
      }
    })}
    </script>
  </div>
</section>
